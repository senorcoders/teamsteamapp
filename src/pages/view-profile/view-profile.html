<ion-header>

  <ion-navbar color="base">
    <ion-buttons start>
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>


    <ion-title> {{"NAVMENU.PROFILE" | translate}}</ion-title>

    <ion-buttons end>
      <button ion-button icon-only (click)="showEdit()">
        <ion-icon name="{{icon}}"></ion-icon>
      </button>
    </ion-buttons>


  </ion-navbar>

</ion-header>


<ion-content>

  <div class="cabezera" [hidden]="!image">
    <div class="avatar">
      <img [src]="user.imageSrc" (load)="loadImage()">
    </div>
    <ion-fab top right class="button-fab-right">
      <button ion-fab color="base" (click)="changePhoto()">
        <ion-icon name="md-camera"></ion-icon>
      </button>
    </ion-fab>
  </div>

  <div class="cabezera" [hidden]="image">
    <div class="avatar">
      <img src="./assets/imgs/user.png" style="object-fit: cover;">
    </div>
    <ion-fab top right class="button-fab-right">
      <button ion-fab color="base" (click)="changePhoto()">
        <ion-icon name="md-camera"></ion-icon>
      </button>
    </ion-fab>
  </div>

  <!--h4 stlye="padding-left: 10px;"> {{user.username}} </h4-->

  <ion-list>

    <ion-item>
      <ion-icon name="md-code-working" item-start></ion-icon>
      {{user.username}}
      <ion-icon name="md-create" [hidden]="!edit" (click)="editUserName()" item-end></ion-icon>
    </ion-item>

    <ion-item>
      <ion-icon name="md-code-working" item-start></ion-icon>
      {{user.firstName+ " "+ user.lastName}}
      <ion-icon name="md-create" [hidden]="!edit" (click)="editNameFull()" item-end></ion-icon>
    </ion-item>

    <ion-item>
      <ion-icon name="md-mail" item-start></ion-icon>
      {{user.email}}
      <ion-icon [hidden]="user.verified" (click)="mCode();" color="danger" name="md-alert" item-end></ion-icon>
      <ion-icon name="md-create" [hidden]="!edit" (click)="changeEmailAlert()" item-end></ion-icon>
    </ion-item>

    <ion-item (click)="selectTeams()">
      <ion-icon name="ios-people" item-start></ion-icon>
      Team {{team.name}}
      <ion-icon hidden name="md-create" item-end></ion-icon>
    </ion-item>

    <ion-item (click)="goViewRequests()" [hidden]="isManagerRequest()">
      <ion-icon name="md-git-pull-request" item-start></ion-icon>
      {{ "REQUESTS" | translate}} {{team.request.length}}
    </ion-item>

    <ion-item (click)="changePassword()">
      <ion-icon name="md-create" item-start></ion-icon>
      {{ "CHANGEPASS" | translate}}
    </ion-item>

    <ion-item (click)="viewsPayments()" [hidden]="user.role.name != 'Player'">
      <ion-icon name="logo-usd" item-start></ion-icon>
      {{ "PAYMENT" | translate}}
    </ion-item>

    <ion-item (click)="viewsPlayerPayments()" [hidden]="user.role.name != 'Manager' ">
      <ion-icon name="logo-usd" item-start></ion-icon>
      {{ "PAYMENTPLAYERS" | translate}}
    </ion-item>

    <ion-item (click)="paymentsMonthly()" [hidden]="user.role.name != 'Manager' ">
      <ion-icon name="md-cash" item-start></ion-icon>
      {{"PAYMENTSUBS" | translate}}
    </ion-item>

    <ion-item>
      <ion-label floating>{{'LANGUAGE' | translate}}</ion-label>
      <ion-select [(ngModel)]="lang" (ionChange)='changeLang()'>
        <ion-option value="en">English</ion-option>
        <ion-option value="es">Spanish </ion-option>
      </ion-select>
    </ion-item>

    <ion-item [hidden]="user.role.name != 'Manager' ">
      <ion-icon name="ios-people" item-start></ion-icon>
      {{'CONTACTS' | translate}}
    </ion-item>

    <ion-item (click)="goAbout()">
      <ion-icon name="md-lock" item-start></ion-icon>
      {{'PRIVACY&POLICY' | translate}}
    </ion-item>

  </ion-list>

</ion-content>