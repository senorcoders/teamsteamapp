<!--
  Generated template for the EventPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="base">
    <ion-title>{{event.name}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-card>

    <ion-item class="description">
        <ion-thumbnail item-start>
            <img [src]="imgUser">
          </ion-thumbnail>
          <p style="font-size: 12pt !important; font-weight: bold !important;">{{username}}</p>  
          <p [hidden]="!event.description" style="font-size: 12pt !important;">{{event.description}}</p>  
    </ion-item>

      <img [src]="event.imageSrc" (click)="viewPhoto(event.imageSrc, event.name)" />
    
      <ion-item>
        <p style="text-align: right;">{{event.parsedTime}}</p>
        <ion-row>
          <ion-col col-3>
            <button ion-button icon-left clear small (click)="like(event, true)">
              <ion-icon name="thumbs-up"></ion-icon>
              <div>{{event.likesUp}}</div>
            </button>
          </ion-col>
          <ion-col col-3>
              <button ion-button icon-left clear small (click)="like(event, false)">
                <ion-icon name="thumbs-down"></ion-icon>
                <div>{{event.likesDown}}</div>
              </button>
            </ion-col>
          <ion-col col-6>
            <button ion-button icon-left (click)="viewTraking(event)">
              <ion-icon name="text"></ion-icon>
              <div>{{event.comments.length}} Comments</div>
            </button>
          </ion-col>
        </ion-row>
      </ion-item>

      <div class="divider"> </div>

      <div id="tracking-section" (click)="viewTrakingEvent()" >
        <!--ion-icon ios="ios-clipboard" md="md-clipboard"></ion-icon-->
        <h3>Tracking</h3>
        <ion-icon name="md-arrow-dropright-circle"></ion-icon>
      </div>
      
      <ion-item class="location-event">
        <h2 style="text-transform: uppercase;" class="titles-event">Location</h2>
      </ion-item>

      <div id="map_canvas" style="width: 100%; height: 250px; "></div>
      
      <ion-item class="location-event" style="padding-top: 10xp; padding-bottom: 10px;">
        <p>{{location.place.subAdministrativeArea}}</p>
        <p>{{location.place.thoroughfare}}</p>
        <p [hidden]="event.location[0].link == ''" >Link: <a [href]="event.link" target="_black"> {{event.location[0].link}} </a></p>
        <p [hidden]="event.location[0].detail == ''">Detail: {{event.location[0].detail}}</p>
      </ion-item>
    
    </ion-card>

    <ion-fab [hidden]="user.role.name != 'Manager'" bottom right class="top-bottom" (click)="editEvent()" >
      <button color="base" ion-fab icon-only >
        <ion-icon name="md-create"></ion-icon>
      </button>
    </ion-fab>

    <ion-fab [hidden]="user.role.name != 'Manager'" bottom right (click)="remove()" >
      <button color="base" ion-fab icon-only >
        <ion-icon name="md-close-circle"></ion-icon>
      </button>
    </ion-fab>
</ion-content>
